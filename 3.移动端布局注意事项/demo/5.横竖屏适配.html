<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <title>template</title>
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <!-- <meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" /> -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="full-screen" content="true" />
    <meta name="screen-orientation" content="portrait" />
    <meta name="x5-fullscreen" content="true" />
    <meta name="360-fullscreen" content="true" />
    <meta content="telephone=no" name="format-detection" />
    <!-- <link href="css/reset.css" rel="stylesheet" /> -->
    <!-- <link href="css/style.css" rel="stylesheet" /> -->
    <!-- <script src="js/fontSize.js"></script> -->
    <script>
        window.addEventListener(
            'orientationchange',
            function(){
                window.location.reload();
            }
        )

        var width = (window.orientation == 90 || window.orientation == -90) ? window.screen.height : window.screen.width; // 横屏下获取屏幕高，竖屏下获取屏幕宽
        alert(width);
        var targetW = 320;
        var scale =  width / targetW; // 缩放值(大值/小值)  ，缩放比和分辨率是反比关系
        var meta = document.createElement('meta');
        meta.setAttribute('name', 'viewport');
        meta.setAttribute('content', "width=device-width,initial-scale="+ scale + ", minimum-scale="+ scale +", maximum-scale=" + scale + ", user-scalable=no");
        document.head.appendChild(meta);
        /*
            meta设置了viewport默认就是device-width，不设置viewport默认就是980
        */

    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        #box {
            width: 300px;
            height: 300px;
            margin: 0 auto;
            background: red;
        }

        /*
            1. 页面宽度定死 -- 320
            2. 动态的设置 viewport 把可视区的宽度设置成320
            
              
       */
    </style>
    <script>
       
    </script>
</head>

<body>
    <div id="box"></div>
</body>

</html>